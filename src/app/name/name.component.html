<section class="mt-3">
  <div class="container">
    <div class="row justify-content-sm-center">
      <div class="col-sm-8 col-xs-12">
        <h4 class="text-success font-weight-normal text-center">Employment Survey</h4>
        <hr>
        <p class="text-muted text-center">Please fill up the following form.</p>
        <div class="card p-2 pt-0 mt-4 c-main-bg-color border-success">
          <div class="card-body text-success">
			<div class="row text-muted small justify-content-center" *ngIf="isInvalid && f.invalid">	
				<p  [ngClass]="{'text-danger font-weight-normal border border-danger rounded p-2 guide blink': isInvalid}">Please fill up the following details <span *ngIf="isInvalid">to proceed</span></p>
			</div>
			<div class="row text-muted small justify-content-center" *ngIf="!isInvalid || f.valid || noName">	
				<p>Please fill up the following form or select "don't want to provide"</p>
			</div>
			<form #f="ngForm">
				<div class="row">
				    <div class="form-group col-sm-6 col-xs-12">
				      	<label for="firstname">Firstname <small>(optional)</small></label>
				      	<input 
				      		type="text" 
					      	class="form-control" 
					      	id="firstname" 
					      	placeholder="Firstname" 
					      	name="Firstname"
					      	[(ngModel)]="surveyService.firstname" 
					      	#firstname="ngModel" 
					      	minlength="1"
					      	maxlength="30" 
					      	required 
					      	[ngClass]="{ 'is-invalid': firstname.invalid && firstname.touched && !noName, 'is-valid': firstname.valid && firstname.touched }" 
					      	[disabled]="noName"
				      		>
				      		<div *ngIf="firstname.invalid && firstname.touched && !noName" class="invalid-feedback">
			                    <div *ngIf="firstname.errors.required">Please enter your Firstname</div>
			                    <div *ngIf="firstname.errors.minlength">Minimum 1 characters</div>
			                    <div *ngIf="firstname.errors.maxlength">Maximum 30 characters</div>
			                </div>

				    </div>
				    <div class="form-group col-sm-6 col-xs-12">
				      	<label for="lastname">Lastname <small>(optional)</small></label>
				      	<input type="text" 
					      	class="form-control" 
					      	id="lastname" 
					      	placeholder="Lastname" 
					      	name="LastName"
					      	[(ngModel)]="surveyService.lastname"
					      	#lastname="ngModel"
					      	required
					      	minlength="1"
					      	maxlength="30" 
				      		[ngClass]="{ 'is-invalid': lastname.invalid && lastname.touched && !noName, 'is-valid': lastname.valid && lastname.touched }" 
				      		[disabled]="noName"
				      		>
				      		<div *ngIf="lastname.invalid && lastname.touched && !noName" class="invalid-feedback">
			                    <div *ngIf="lastname.errors.required">Please enter your Lastname</div>
			                    <div *ngIf="lastname.errors.minlength">Minimum 1 characters</div>
			                    <div *ngIf="lastname.errors.maxlength">Maximum 30 characters</div>
			                </div>
				    </div>
			    </div>
			    
			    <div class="row mt-3">
			    	<div class="col">
			    		<div class="form-group custom-control custom-checkbox">
						    <input 
						    	type="checkbox" 
						    	class="custom-control-input" 
						    	id="group-1" 
								value="No name"
								[(ngModel)]="noName"
								[ngModelOptions]="{standalone: true}"
								(change)="resetName()"
						    	required>
						    <label class="custom-control-label" for="group-1">I don't want to provide</label>
						    <div class="invalid-feedback">Example invalid feedback text</div>
						  </div>
			    	</div>
			    </div>

				    <hr>

			    <div class="row text-center">
			    	<div class="col xs-6">
						<button class="btn btn-outline-success" (click)="goBack()">Back</button>
					</div>
					<div class="col xs-6">
						<button type="submit" (click)="onSubmit()" class="btn btn-outline-success">Next</button>
					</div>
			    </div>
			</form>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
